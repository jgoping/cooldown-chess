(this["webpackJsonpcooldown-chess-frontend"]=this["webpackJsonpcooldown-chess-frontend"]||[]).push([[0],{124:function(e,n,t){},178:function(e,n,t){},179:function(e,n,t){"use strict";t.r(n);var c,a,o,r,i,s=t(0),l=t.n(s),j=t(9),d=(t(124),t(50)),u=t(11),b=t(43),h=t.n(b),O=t(60),p=t(21),x=t(104),f=t.n(x),m=t(222),v=t(226),w=t(227),g=t(219),S=t(224),k=t(218),y=t(212),C=t(13),I=Object(C.a)(y.a)({minWidth:400}),G=t(216),W=Object(C.a)(G.a)({justifyContent:"center"}),N=t(217),B=Object(C.a)(N.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),R=t(32),q=C.a.img(c||(c=Object(R.a)(["\n  src: ",";\n  height: 400px;\n  width: 400px;\n  margin-bottom: 20px;\n"])),(function(e){return e.src})),D=t.p+"static/media/logo.5cabee29.png",E=t(3),F=Object(u.f)((function(e){var n=l.a.useState(5),t=Object(p.a)(n,2),c=t[0],a=t[1],o=function(){var n=Object(O.a)(h.a.mark((function n(){var t,a,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={cooldown:c},n.next=3,f.a.get("https://cooldown-chess-server.herokuapp.com/create-room",{params:t});case 3:a=n.sent,o=a.data.roomId,e.history.push("/match/".concat(o));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Cooldown Chess"}),Object(E.jsx)(q,{src:D}),Object(E.jsxs)(I,{children:[Object(E.jsxs)(B,{children:[Object(E.jsx)(k.a,{variant:"body1",component:"p",children:"Choose how many seconds to wait between moves:"}),Object(E.jsxs)(g.a,{variant:"filled",fullWidth:!0,children:[Object(E.jsx)(v.a,{id:"demo-simple-select-filled-label",children:"Cooldown"}),Object(E.jsxs)(S.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:c,onChange:function(e){a(function(e){return e.target.value}(e))},label:"Cooldown",children:[Object(E.jsx)(w.a,{value:1,children:"1"}),Object(E.jsx)(w.a,{value:3,children:"3"}),Object(E.jsx)(w.a,{value:5,children:"5"}),Object(E.jsx)(w.a,{value:10,children:"10"})]})]})]}),Object(E.jsx)(W,{children:Object(E.jsx)(m.a,{variant:"contained",onClick:o,children:"Create Room"})})]})]})})),J=t(108),M=t.n(J),P=t(223),T=Object(u.f)((function(e){var n=e.history,t=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push("/");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(m.a,{variant:"contained",onClick:t,children:"Return to Home Screen"})})),Y=t(225),A=Object(C.a)(Y.a)({display:"flex",alignItems:"center",justifyContent:"center"}),H=t(229),V=Object(H.a)(C.a.div(a||(a=Object(R.a)(["\n  background: ",";\n  border: '2px solid #000';\n  boxShadow: ",";\n  padding: ",";\n"])),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.shadows[5]}),(function(e){return e.theme.spacing(2,4,3)}))),z=C.a.div(o||(o=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 20px;\n"]))),K=function(e){var n=e.winner,t=e.newGameCallback,c="w"===n?"White":"Black";return Object(E.jsx)(A,{open:!0,children:Object(E.jsx)(P.a,{in:!0,children:Object(E.jsxs)(V,{children:[Object(E.jsxs)("div",{children:["Game Over! ",c," wins!"]}),Object(E.jsxs)(z,{children:[Object(E.jsx)(m.a,{variant:"contained",onClick:t,children:"Rematch"}),Object(E.jsx)(T,{})]})]})})})},L=t(109),Q=t.n(L),U=function(e){var n=e.socket,t=e.player,c=e.position;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Q.a,{width:500,position:c,allowDrag:function(e){var n=e.piece[0];return t===n},onDrop:function(e){var c=e.sourceSquare,a=e.targetSquare,o=e.piece[0];t===o&&(null===n||void 0===n||n.emit("Move",{sourceSquare:c,targetSquare:a}))},orientation:"b"!==t?"white":"black"})})},X=t(230),Z=Object(C.a)(X.a)({width:400}),$=function(e){var n=e.roomId;return Object(E.jsx)(A,{open:!0,children:Object(E.jsx)(P.a,{in:!0,children:Object(E.jsxs)(V,{children:[Object(E.jsx)("div",{children:"Send this link to your opponent:"}),Object(E.jsx)(Z,{id:"standard-basic",label:"Room ID",variant:"filled",defaultValue:"http://localhost:3000/#/match/".concat(n),InputProps:{readOnly:!0}}),Object(E.jsx)("div",{children:"Waiting for opponent to join..."}),Object(E.jsx)(z,{children:Object(E.jsx)(T,{})})]})})})},_=function(e){var n=e.dismissCallback;return Object(E.jsx)(A,{open:!0,children:Object(E.jsx)(P.a,{in:!0,children:Object(E.jsxs)(V,{children:[Object(E.jsx)("div",{children:"You have joined in spectator mode as two players have already joined this room."}),Object(E.jsxs)(z,{children:[Object(E.jsx)(m.a,{variant:"contained",onClick:n,children:"Spectate"}),Object(E.jsx)(T,{})]})]})})})},ee=function(e){var n=e.countdown;return Object(E.jsx)(A,{open:!0,children:Object(E.jsx)(P.a,{in:!0,children:Object(E.jsxs)(V,{children:[Object(E.jsx)("div",{children:"Both players joined!"}),Object(E.jsxs)("div",{children:["Starting game in ",n," seconds..."]})]})})})},ne=C.a.p(r||(r=Object(R.a)(["\n  color: ",";\n  display: inline;\n"])),(function(e){return e.colour}));!function(e){e[e.None=0]="None",e[e.Waiting=1]="Waiting",e[e.Starting=2]="Starting",e[e.GameOver=3]="GameOver",e[e.Spectator=4]="Spectator"}(i||(i={}));var te=function(){var e=l.a.useState(),n=Object(p.a)(e,2),t=n[0],c=n[1],a=l.a.useState(""),o=Object(p.a)(a,2),r=o[0],s=o[1],j=l.a.useState(""),d=Object(p.a)(j,2),b=d[0],h=d[1],O=l.a.useState(""),x=Object(p.a)(O,2),f=x[0],v=x[1],w=l.a.useState(i.None),g=Object(p.a)(w,2),S=g[0],k=g[1],y=Object(u.e)().roomId,C=l.a.useState(0),I=Object(p.a)(C,2),G=I[0],W=I[1],N=l.a.useState(0),B=Object(p.a)(N,2),R=B[0],q=B[1],D=l.a.useState(0),F=Object(p.a)(D,2),J=F[0],P=F[1];l.a.useEffect((function(){var e=M()("https://cooldown-chess-server.herokuapp.com/",{transports:["websocket"]});return c(e),e.emit("Room",y),e.on("Player",(function(e){e.bothConnected||k(i.Waiting),s(e.colour)})),e.on("Spectator",(function(){k(i.Spectator),e.on("Time",(function(e){T(e)}))})),e.on("Board",(function(e){v(e)})),function(){e.disconnect()}}),[]),l.a.useEffect((function(){null===t||void 0===t||t.on("Begin",(function(e){P(e),r&&k(e>0?i.Starting:i.None)})),null===t||void 0===t||t.on("GameOver",(function(e){r&&k(i.GameOver),h(e)})),null===t||void 0===t||t.on("Time",(function(e){T(e)}))}),[r]);var T=function(e){var n=e.colour,t=e.time;(r.length>0?r:"w")===n?W(t):q(t)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{children:"Cooldown Chess"}),S===i.Waiting&&Object(E.jsx)($,{roomId:y}),S===i.Starting&&Object(E.jsx)(ee,{countdown:J}),S===i.GameOver&&Object(E.jsx)(K,{winner:b,newGameCallback:function(){null===t||void 0===t||t.emit("NewGame")}}),S===i.Spectator&&Object(E.jsx)(_,{dismissCallback:function(){k(i.None)}}),Object(E.jsxs)("div",{children:["Opponent's cooldown: ",Object(E.jsx)(ne,{colour:R?"red":"green",children:R})]}),Object(E.jsx)(U,{socket:t,player:r,position:f}),Object(E.jsxs)("div",{children:["Your cooldown: ",Object(E.jsx)(ne,{colour:G?"red":"green",children:G})]}),Object(E.jsx)(m.a,{variant:"contained",onClick:function(){null===t||void 0===t||t.emit("Surrender")},children:"Surrender"})]})};t(178);var ce=function(){return Object(E.jsx)(d.a,{children:Object(E.jsxs)("header",{className:"App-header",children:[Object(E.jsx)(u.a,{exact:!0,path:"/",component:F}),Object(E.jsx)(u.a,{path:"/match/:roomId",component:te})]})})};Object(j.render)(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(ce,{})}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.f9f9a4e3.chunk.js.map