(this["webpackJsonpcooldown-chess-frontend"]=this["webpackJsonpcooldown-chess-frontend"]||[]).push([[0],{124:function(e,n,t){},178:function(e,n,t){},179:function(e,n,t){"use strict";t.r(n);var c,a,o,i,r,s,l=t(0),j=t.n(l),d=t(9),u=(t(124),t(50)),b=t(12),h=t(43),O=t.n(h),p=t(60),x=t(20),m=t(104),f=t.n(m),v=t(222),g=t(226),w=t(227),S=t(224),y=t(219),C=function(e){return e.target.value},k=t(212),I=t(11),G=Object(I.a)(k.a)({minWidth:400}),N=t(216),W=Object(I.a)(N.a)({justifyContent:"center"}),B=t(217),R=Object(I.a)(B.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),q=t(27),D=I.a.img(c||(c=Object(q.a)(["\n  src: ",";\n  height: 400px;\n  width: 400px;\n  margin-bottom: 20px;\n"])),(function(e){return e.src})),E=t.p+"static/media/logo.5cabee29.png",F=I.a.div(a||(a=Object(q.a)(["\n  margin-bottom: 12px;\n"]))),P=t(218),H=Object(I.a)(P.a)({width:400}),J=t(2),M=Object(b.f)((function(e){var n=j.a.useState(1),t=Object(x.a)(n,2),c=t[0],a=t[1],o=j.a.useState(5),i=Object(x.a)(o,2),r=i[0],s=i[1],l=function(){var n=Object(p.a)(O.a.mark((function n(){var t,a,o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={numPlayers:c,cooldown:r},n.next=3,f.a.get("".concat("http://localhost:8080","/create-room"),{params:t});case 3:a=n.sent,o=a.data.roomId,e.history.push("/match/".concat(o));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("h1",{children:"Cooldown Chess"}),Object(J.jsx)(D,{src:E}),Object(J.jsxs)(G,{children:[Object(J.jsxs)(R,{children:[Object(J.jsxs)(F,{children:[Object(J.jsx)(y.a,{variant:"body1",component:"p",children:"Choose what opponent you will play:"}),Object(J.jsxs)(H,{variant:"filled",children:[Object(J.jsx)(g.a,{id:"demo-simple-select-filled-label",children:"Opponent"}),Object(J.jsxs)(S.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:c,onChange:function(e){a(C(e))},label:"Opponent",children:[Object(J.jsx)(w.a,{value:1,children:"Bot"}),Object(J.jsx)(w.a,{value:2,children:"Human"})]})]})]}),Object(J.jsxs)(F,{children:[Object(J.jsx)(y.a,{variant:"body1",component:"p",children:"Choose how many seconds to wait between moves:"}),Object(J.jsxs)(H,{variant:"filled",children:[Object(J.jsx)(g.a,{id:"demo-simple-select-filled-label",children:"Cooldown"}),Object(J.jsxs)(S.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:r,onChange:function(e){s(C(e))},label:"Cooldown",children:[Object(J.jsx)(w.a,{value:1,children:"1"}),Object(J.jsx)(w.a,{value:3,children:"3"}),Object(J.jsx)(w.a,{value:5,children:"5"}),Object(J.jsx)(w.a,{value:10,children:"10"})]})]})]})]}),Object(J.jsx)(W,{children:Object(J.jsx)(v.a,{variant:"contained",onClick:l,children:"Create Room"})})]})]})})),T=t(108),Y=t.n(T),A=t(223),V=Object(b.f)((function(e){var n=e.history,t=function(){var e=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push("/");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(v.a,{variant:"contained",onClick:t,children:"Return to Home Screen"})})),z=t(225),K=Object(I.a)(z.a)({display:"flex",alignItems:"center",justifyContent:"center"}),L=t(229),Q=Object(L.a)(I.a.div(o||(o=Object(q.a)(["\n  background: ",";\n  border: '2px solid #000';\n  boxShadow: ",";\n  padding: ",";\n"])),(function(e){return e.theme.palette.background.paper}),(function(e){return e.theme.shadows[5]}),(function(e){return e.theme.spacing(2,4,3)}))),U=I.a.div(i||(i=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-top: 20px;\n"]))),X=function(e){var n=e.winner,t=e.newGameCallback,c="w"===n?"White":"Black";return Object(J.jsx)(K,{open:!0,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsxs)(Q,{children:[Object(J.jsxs)("div",{children:["Game Over! ",c," wins!"]}),Object(J.jsxs)(U,{children:[Object(J.jsx)(v.a,{variant:"contained",onClick:t,children:"Rematch"}),Object(J.jsx)(V,{})]})]})})})},Z=t(109),$=t.n(Z),_=function(e){var n=e.socket,t=e.player,c=e.position;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)($.a,{width:500,position:c,allowDrag:function(e){var n=e.piece[0];return t===n},onDrop:function(e){var c=e.sourceSquare,a=e.targetSquare,o=e.piece[0];t===o&&(null===n||void 0===n||n.emit("Move",{sourceSquare:c,targetSquare:a}))},orientation:"b"!==t?"white":"black"})})},ee=t(230),ne=Object(I.a)(ee.a)({width:460}),te=function(e){var n=e.roomId;return Object(J.jsx)(K,{open:!0,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsxs)(Q,{children:[Object(J.jsx)("div",{children:"Send this link to your opponent:"}),Object(J.jsx)(ne,{id:"standard-basic",label:"Room ID",variant:"filled",defaultValue:"".concat("http://localhost:3000","/#/match/").concat(n),InputProps:{readOnly:!0}}),Object(J.jsx)("div",{children:"Waiting for opponent to join..."}),Object(J.jsx)(U,{children:Object(J.jsx)(V,{})})]})})})},ce=function(e){var n=e.dismissCallback;return Object(J.jsx)(K,{open:!0,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsxs)(Q,{children:[Object(J.jsx)("div",{children:"You have joined in spectator mode as two players have already joined this room."}),Object(J.jsxs)(U,{children:[Object(J.jsx)(v.a,{variant:"contained",onClick:n,children:"Spectate"}),Object(J.jsx)(V,{})]})]})})})},ae=function(e){var n=e.countdown;return Object(J.jsx)(K,{open:!0,children:Object(J.jsx)(A.a,{in:!0,children:Object(J.jsxs)(Q,{children:[Object(J.jsx)("div",{children:"Both players joined!"}),Object(J.jsxs)("div",{children:["Starting game in ",n," seconds..."]})]})})})},oe=I.a.p(r||(r=Object(q.a)(["\n  color: ",";\n  display: inline;\n"])),(function(e){return e.colour}));!function(e){e[e.None=0]="None",e[e.Waiting=1]="Waiting",e[e.Starting=2]="Starting",e[e.GameOver=3]="GameOver",e[e.Spectator=4]="Spectator"}(s||(s={}));var ie=function(){var e=j.a.useState(),n=Object(x.a)(e,2),t=n[0],c=n[1],a=j.a.useState(""),o=Object(x.a)(a,2),i=o[0],r=o[1],l=j.a.useState(""),d=Object(x.a)(l,2),u=d[0],h=d[1],O=j.a.useState(""),p=Object(x.a)(O,2),m=p[0],f=p[1],g=j.a.useState(s.None),w=Object(x.a)(g,2),S=w[0],y=w[1],C=Object(b.e)().roomId,k=j.a.useState(0),I=Object(x.a)(k,2),G=I[0],N=I[1],W=j.a.useState(0),B=Object(x.a)(W,2),R=B[0],q=B[1],D=j.a.useState(0),E=Object(x.a)(D,2),F=E[0],P=E[1];j.a.useEffect((function(){var e,n=null!==(e="http://localhost:8080")?e:"",t=Y()(n,{transports:["websocket"]});return c(t),t.emit("Room",C),t.on("Player",(function(e){e.bothConnected||y(s.Waiting),r(e.colour)})),t.on("Spectator",(function(){y(s.Spectator),t.on("Time",(function(e){H(e)}))})),t.on("Board",(function(e){f(e)})),function(){t.disconnect()}}),[]),j.a.useEffect((function(){null===t||void 0===t||t.on("Begin",(function(e){P(e),i&&y(e>0?s.Starting:s.None)})),null===t||void 0===t||t.on("GameOver",(function(e){i&&y(s.GameOver),h(e)})),null===t||void 0===t||t.on("Time",(function(e){H(e)}))}),[i]);var H=function(e){var n=e.colour,t=e.time;(i.length>0?i:"w")===n?N(t):q(t)};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("p",{children:"Cooldown Chess"}),S===s.Waiting&&Object(J.jsx)(te,{roomId:C}),S===s.Starting&&Object(J.jsx)(ae,{countdown:F}),S===s.GameOver&&Object(J.jsx)(X,{winner:u,newGameCallback:function(){null===t||void 0===t||t.emit("NewGame")}}),S===s.Spectator&&Object(J.jsx)(ce,{dismissCallback:function(){y(s.None)}}),Object(J.jsxs)("div",{children:["Opponent's cooldown: ",Object(J.jsx)(oe,{colour:R?"red":"green",children:R})]}),Object(J.jsx)(_,{socket:t,player:i,position:m}),Object(J.jsxs)("div",{children:["Your cooldown: ",Object(J.jsx)(oe,{colour:G?"red":"green",children:G})]}),Object(J.jsx)(v.a,{variant:"contained",onClick:function(){null===t||void 0===t||t.emit("Surrender")},children:"Surrender"})]})};t(178);var re=function(){return Object(J.jsx)(u.a,{children:Object(J.jsxs)("header",{className:"App-header",children:[Object(J.jsx)(b.a,{exact:!0,path:"/",component:M}),Object(J.jsx)(b.a,{path:"/match/:roomId",component:ie})]})})};Object(d.render)(Object(J.jsx)(j.a.StrictMode,{children:Object(J.jsx)(re,{})}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.30b9d124.chunk.js.map